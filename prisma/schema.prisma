// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Subjects {
  id              Int @id
  idDegree        Int
  idSeason        Int
  idSubject       Int
  name            String
  course          String
  caracter        String
  credits         Int @default(6)
  language        String @default("espa√±ol")
  places          Int?
  enrolled        Int?
  passed          Int?
  failed          Int?
  notPresented    Int?
  passRate        Decimal?
  rendRate        Decimal?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  connection connection[]
}

model Users {
  id              Int     @id 
  username        String
  name            String
  lastName        String
  email           String
  web             String?
  xp              Int?
  totalVotes      Int?
  salt            String
  passwd          String

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  connection connection[]
}

model connection {
  id        Int @id
  subject   Subjects @relation(fields: [idSubject], references: [id])
  idSubject Int
  user      Users @relation(fields: [idUser], references: [id])
  idUser    Int
  rol       String
}